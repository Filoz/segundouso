{% extends 'SegundoUsoFrontendBundle::layout.html.twig' %}

{% block content %}
    <div class="row list" id="FLAG_favorites-list">

        <div class="col-md-12"><h1>Anuncios favoritos</h1></div>
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                <tr>
                    <th>Anuncio</th>
                    <th>Ubicaci√≥n</th>
                    <th>Opciones</th>
                </tr>
                </thead>
                <tbody>

            {% for ad in app.user.favouriteAds %}
                <tr class="ad">
                    <td><a href="{{ path('segundo_uso_frontend_ad_show', {pid: ad.pid}) }}">{{ ad.title }}</a></td>
                    <td>{{ ad.municipality }} ({{ ad.location }})</a></td>
                    <td>
                        <button type="button" class="btn btn-success favorite-marker unfavoritable" data-adid="{{ ad.id }}" data-favorite-url="{{ path('segundo_uso_frontend_ad_favorite', {id:ad.id}) }}" data-unfavorite-url="{{ path('segundo_uso_frontend_ad_unfavorite', {id:ad.id}) }}">
                            <span class="glyphicon glyphicon-heart"></span> <span class="favorite-text">Favorito</span>
                        </button>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td class="alert alert-warning"><div>
                            No tienes anuncios favoritos.
                        </div></td>
                </tr>
            {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

{% endblock content %}

{% block javascripts %}

    {{ parent() }}

    <script type="text/javascript" src="{{ asset('bundles/segundousoad/js/favoritable.js') }}"></script>

{% endblock javascripts %}